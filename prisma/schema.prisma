generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

// Links a Supabase user to their AzerothCore game account
// The actual game account lives in AzerothCore's MySQL database
// This just tracks the relationship and username
model GameAccount {
  id             String   @id @default(cuid())
  supabaseUserId String   @unique @map("supabase_user_id")
  gameUsername   String   @unique @map("game_username") @db.VarChar(17)
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")

  @@map("game_accounts")
}